(this.webpackJsonpinterest=this.webpackJsonpinterest||[]).push([[4],{286:function(e,s,t){"use strict";function a(e,s){if(null==e)return{};var t,a,n=function(e,s){if(null==e)return{};var t,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],s.indexOf(t)>=0||(n[t]=e[t]);return n}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}t.d(s,"a",(function(){return a}))},289:function(e,s,t){e.exports={users:"users_users__1kcZS","friends-wrapper":"users_friends-wrapper__3bApH","users-wrapper":"users_users-wrapper__Chl1W",title:"users_title__2yb80","buttons-wrapper":"users_buttons-wrapper__1nK5O","previous-page":"users_previous-page__3mSBL","next-page":"users_next-page__3oERU","previous-page-disabled":"users_previous-page-disabled__X4J3U","next-page-disabled":"users_next-page-disabled__sECTi",link:"users_link__2y74H",avatar:"users_avatar__34Tg0",info:"users_info__24SBo",name:"users_name__10Cal","write-message":"users_write-message__1WUeT","un-follow":"users_un-follow__3GlfO",follow:"users_follow__3QELQ"}},292:function(e,s,t){"use strict";t.r(s);var a=t(5),n=t(7),r=t.n(n),c=t(15),i=t(86),o=t(0),u=t.n(o),l=t(8),b=t(19),d=t(85),j=t(289),p=t.n(j),g=t(18),m=t(45),f=t(1),O=u.a.memo((function(e){var s=Object(o.useMemo)((function(){return e.friends.map((function(s,t){return Object(f.jsxs)("div",{className:p.a.link,children:[Object(f.jsx)(g.b,{to:"/profile/".concat(s.id),children:Object(f.jsx)("img",{src:s.photos.large?s.photos.large:d.a,alt:"user avatar",className:p.a.avatar})}),Object(f.jsxs)("div",{className:p.a.info,children:[Object(f.jsx)(g.b,{className:p.a.name,to:"/profile/".concat(s.id),children:s.name}),Object(f.jsx)(g.b,{to:"/messages/".concat(s.id),className:p.a["write-message"],children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(f.jsx)("button",{className:p.a["un-follow"],onClick:function(){return e.onUnFollow(s.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"})]})]},t)}))}),[e.friends]),t=Object(o.useMemo)((function(){return e.users.map((function(s,t){return Object(f.jsxs)("div",{className:p.a.link,children:[Object(f.jsx)(g.b,{to:"/profile/".concat(s.id),children:Object(f.jsx)("img",{src:s.photos.large?s.photos.large:d.a,alt:"user avatar",className:p.a.avatar})}),Object(f.jsxs)("div",{className:p.a.info,children:[Object(f.jsx)(g.b,{className:p.a.name,to:"/profile/".concat(s.id),children:s.name}),Object(f.jsx)("button",{className:p.a.follow,onClick:function(){return e.onFollow(s.id)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"})]})]},t)}))}),[e.users]);return Object(f.jsxs)("article",{className:p.a.users,children:[Object(f.jsxs)("div",{className:p.a["friends-wrapper"],children:[Object(f.jsx)("h1",{className:p.a.title,children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(f.jsx)("div",{className:p.a.content,children:Object(f.jsx)(m.a,{value:e.isFetchingFriends,elements:s})}),Object(f.jsxs)("div",{className:p.a["buttons-wrapper"],children:[Object(f.jsx)("button",{disabled:e.pageFriends<=1,className:"".concat(e.pageFriends<=1&&p.a["previous-page-disabled"]," ").concat(p.a["previous-page"]),onClick:e.onPagePrevFriends,children:"\u041d\u0430\u0437\u0430\u0434"}),Object(f.jsx)("button",{disabled:Number(e.maxCountFriends)<=Number(e.pageSize)*Number(e.pageFriends),className:"".concat(Number(e.maxCountFriends)<=Number(e.pageSize)*Number(e.pageFriends)&&p.a["next-page-disabled"]," ").concat(p.a["next-page"]),onClick:e.onPageNextFriends,children:"\u0414\u0430\u043b\u044c\u0448\u0435"})]})]}),Object(f.jsxs)("div",{className:p.a["users-wrapper"],children:[Object(f.jsx)("h1",{className:p.a.title,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(f.jsx)("div",{className:p.a.content,children:Object(f.jsx)(m.a,{value:e.isFetchingUsers,elements:t})}),Object(f.jsxs)("div",{className:p.a["buttons-wrapper"],children:[Object(f.jsx)("button",{disabled:e.pageUsers<=1,className:"".concat(e.pageUsers<=1&&p.a["previous-page-disabled"]," ").concat(p.a["previous-page"]),onClick:e.onPagePrevUsers,children:"\u041d\u0430\u0437\u0430\u0434"}),Object(f.jsx)("button",{disabled:Number(e.maxCountUsers)<=Number(e.pageSize)*Number(e.pageUsers),className:"".concat(Number(e.maxCountUsers)<=Number(e.pageSize)*Number(e.pageUsers)&&p.a["next-page-disabled"]," ").concat(p.a["next-page"]),onClick:e.onPageNextUsers,children:"\u0414\u0430\u043b\u044c\u0448\u0435"})]})]})]})})),x=t(286),h=t(12),_=t(11),v=t(123),N=u.a.memo((function(e){var s=Object(o.useState)(1),t=Object(i.a)(s,2),n=t[0],u=t[1],l=Object(o.useState)(1),b=Object(i.a)(l,2),d=b[0],j=b[1],p=Object(o.useState)(5),g=Object(i.a)(p,2),m=g[0];g[1];Object(o.useEffect)((function(){e.getUsers(d,m),e.getFriends(n,m)}),[]);var x=function(){var s=Object(c.a)(r.a.mark((function s(t){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.follow(t);case 2:e.getFriends(n,m),e.getUsers(d,m);case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),h=function(){var s=Object(c.a)(r.a.mark((function s(t){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.unFollow(t);case 2:e.getFriends(n,m),e.getUsers(d,m);case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(f.jsx)(O,Object(a.a)(Object(a.a)({},e),{},{onFollow:x,onUnFollow:h,pageFriends:n,pageUsers:d,pageSize:m,onPageNextUsers:function(){j(d+1),e.getUsers(d+1,m)},onPagePrevUsers:function(){j(d-1),e.getUsers(d-1,m)},onPageNextFriends:function(){u(n+1),e.getFriends(n+1,m)},onPagePrevFriends:function(){u(n-1),e.getFriends(n-1,m)}}))}));s.default=Object(l.d)(Object(b.b)((function(e){return{isFetchingFriends:Object(h.f)(e),isFetchingUsers:Object(h.h)(e),users:Object(h.b)(e),friends:Object(h.a)(e),maxCountFriends:Object(h.l)(e),maxCountUsers:Object(h.m)(e)}}),{getUsers:v.c,getFriends:v.b,follow:v.a,unFollow:v.d}),(function(e){return Object(l.d)(Object(b.b)((function(e){return{isAuth:Object(h.d)(e)}}),null))((function(s){var t=s.isAuth,n=Object(x.a)(s,["isAuth"]);return t?Object(f.jsx)(e,Object(a.a)({},n)):Object(f.jsx)(_.a,{to:"/login"})}))}))(N)}}]);
//# sourceMappingURL=4.daae8b52.chunk.js.map